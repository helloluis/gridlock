(function(a){var b="ontouchstart"in window;a.fn.tappable=function(c){var d=true,e=function(){return true},f=0,g;switch(typeof c){case"function":g=c;break;case"object":g=c.callback;if(typeof c.cancelOnMove!="undefined"){d=c.cancelOnMove}if(typeof c.onlyIf!="undefined"){e=c.onlyIf}if(typeof c.touchDelay!="undefined"){f=c.touchDelay}break}var h=function(a,b){if(typeof g=="function"&&e(a)){g.call(a,b)}};if(b){this.bind("touchstart",function(b){var c=this;if(e(this)){a(c).addClass("touch-started");window.setTimeout(function(){if(a(c).hasClass("touch-started")){a(c).addClass("touched")}},f)}return true});this.bind("touchend",function(b){var c=this;if(a(c).hasClass("touch-started")){a(c).removeClass("touched").removeClass("touch-started");h(c,b)}return true});this.bind("click",function(a){a.preventDefault()});if(d){this.bind("touchmove",function(){a(this).removeClass("touched").removeClass("touch-started")})}}else if(typeof g=="function"){this.bind("click",function(a){if(e(this)){g.call(this,a)}})}return this}})(jQuery)